{"version":3,"file":"TokenPicker.js","sourceRoot":"","sources":["../../ts/components/TokenPicker.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAU,SAAS,EAAE,MAAM,iBAAiB,CAAA;AACnD,OAAO,EAAE,UAAU,EAAE,MAAM,QAAQ,CAAA;AAGnC,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,EAAE,IAAI,EAAyJ,EAAE,EAAE;IAC9L,MAAM,OAAO,GAAG,SAAS,CAAwD,EAAE,CAAC,CAAA;IAEpF,MAAM,YAAY,GAAG,SAAS,CAAqB,SAAS,CAAC,CAAA;IAC7D,MAAM,OAAO,GAAG,SAAS,CAAqB,SAAS,CAAC,CAAA;IAExD,SAAS,oBAAoB,CAAC,KAA0C;QACvE,IAAI;YACH,YAAY,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAA;SACxE;QAAC,OAAO,KAAK,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;YAClB,YAAY,CAAC,KAAK,GAAG,SAAS,CAAA;SAC9B;IACF,CAAC;IAED,SAAS,eAAe,CAAC,KAA0C;QAClE,IAAI;YACH,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;SACjD;QAAC,OAAO,KAAK,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;YAClB,OAAO,CAAC,KAAK,GAAG,SAAS,CAAA;SACzB;IACF,CAAC;IAED,IAAI,CAAC,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,CAAA;;QACvB,OAAO,CACX,eAAK,SAAS,EAAC,wEAAwE,aACtF,iBAAQ,SAAS,EAAC,4BAA4B,EAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,kBAAY,EAC5F,eAAK,SAAS,EAAC,4CAA4C,aAC1D,aAAI,SAAS,EAAC,wBAAwB,2BAAgB,EACtD,eAAK,SAAS,EAAC,YAAY,aAC1B,eAAK,SAAS,EAAC,6DAA6D,aAC3E,eAAM,SAAS,EAAC,uBAAuB,iCAAwB,EAC/D,gBAAO,OAAO,EAAE,oBAAoB,EAAE,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,uDAAuD,EAAC,WAAW,EAAC,aAAa,GAAG,IAC3I,EACN,eAAK,SAAS,EAAC,mDAAmD,aACjE,eAAM,SAAS,EAAC,uBAAuB,yBAAgB,EACvD,gBAAO,OAAO,EAAE,eAAe,EAAE,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,uDAAuD,EAAC,WAAW,EAAC,GAAG,GAAG,IAC9H,IACD,EACN,wBACE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAC5B,eAAK,KAAK,EAAC,uEAAuE,aACjF,iBAAQ,SAAS,EAAC,sGAAsG,4BAE/G,EACT,aAAI,SAAS,EAAC,uBAAuB,YAAE,MAAM,CAAC,IAAI,GAAM,EACxD,cAAI,SAAS,EAAC,eAAe,kBAAG,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAM,IACrD,CAAC,CAAC,GACJ,IACD,IACD,CACN,CAAA;AACF,CAAC,CAAA","sourcesContent":["import { Signal, useSignal } from '@preact/signals'\nimport { getAddress } from 'ethers'\nimport { JSX } from 'preact/jsx-runtime'\n\nexport const TokenPicker = ({ show }: { show: Signal<boolean>, nft: Signal<{ address: string, id: bigint, owner: string, name?: string, symbol?: string, tokenURI?: string } | undefined> }) => {\n\tconst results = useSignal<Array<{ name: string, id: bigint, contract: string }>>([])\n\n\tconst addressInput = useSignal<string | undefined>(undefined)\n\tconst idInput = useSignal<bigint | undefined>(undefined)\n\n\tfunction validateAddressInput(event: JSX.TargetedEvent<HTMLInputElement>) {\n\t\ttry {\n\t\t\taddressInput.value = getAddress(event.currentTarget.value.toLowerCase())\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\taddressInput.value = undefined\n\t\t}\n\t}\n\n\tfunction validateIdInput(event: JSX.TargetedEvent<HTMLInputElement>) {\n\t\ttry {\n\t\t\tidInput.value = BigInt(event.currentTarget.value)\n\t\t} catch (error) {\n\t\t\tconsole.log(error)\n\t\t\tidInput.value = undefined\n\t\t}\n\t}\n\n\tif (!show.value) return null\n\telse return (\n\t\t<div className='bg-black/90 w-full h-full inset-0 fixed p-4 flex flex-col items-center'>\n\t\t\t<button className='ml-auto font-bold text-2xl' onClick={() => show.value = false}>x</button>\n\t\t\t<div className='flex flex-col gap-4 max-w-screen-xl w-full'>\n\t\t\t\t<h2 className='font-semibold text-2xl'>Select NFT</h2>\n\t\t\t\t<div className='flex gap-4'>\n\t\t\t\t\t<div className='flex flex-col flex-grow border border-white/50 p-2 bg-black'>\n\t\t\t\t\t\t<span className='text-sm text-white/50'>Contract Address</span>\n\t\t\t\t\t\t<input onInput={validateAddressInput} type='text' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='0x133...789' />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='flex flex-col border border-white/50 p-2 bg-black'>\n\t\t\t\t\t\t<span className='text-sm text-white/50'>Token ID</span>\n\t\t\t\t\t\t<input onInput={validateIdInput} type='number' className='bg-transparent outline-none placeholder:text-gray-600' placeholder='1' />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{results.value.map(result => (\n\t\t\t\t\t\t<div class='bg-neutral-800 relative group h-64 w-64 p-4 flex flex-col justify-end'>\n\t\t\t\t\t\t\t<button className='hidden group-hover:block h-64 w-64 inset-0 absolute bg-black/80 border border-white/50 font-semibold'>\n\t\t\t\t\t\t\t\tSelect Item\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<h2 className='font-semibold text-xl'>{result.name}</h2>\n\t\t\t\t\t\t\t<h3 className='text-gray-400'>#{result.id.toString()}</h3>\n\t\t\t\t\t\t</div>))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n"]}